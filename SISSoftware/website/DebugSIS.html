<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="This page debugs the Standalone Intelligent Sensor
    based on the Particle.io Arduino-like processor." name="Description">
    <meta content="Photon Electron core Particle.io internet of things IoT
    remote wireless sensors " name="Keywords">

    <script language="javascript" src="/rpi/utils.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="ConfigStyle.css">

    <script src="//cdn.jsdelivr.net/sparkjs/0.2.0/spark.min.js" type="text/javascript"></script>
    <script src="jbsSpark.js" type="text/javascript"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-1346932-2']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>

</head>

<body>

    <div style="width: 100%; padding: 0 0 0 5%; float: left;">
        <noscript>
            This page requires that Javascript be enabled.
        </noscript>

        <div id="SISPageTitle" style="clear: both; width: 100%; height: auto; padding: 0px 0px 0px 0%;">
            <h1 id="configTitle">&nbsp;</h1>
            <div id="jbs_jsversion">
            </div>
        </div>



        <div name="leftcolumn" style="float:left; width:50%; min-width300px">

            <div id="spark-login" class="auto-style2" />
            <script>
                SHRIMPWARE.SISClient.loginToSpark(); // Displays the login button
            </script>
        </div>


        <div style="clear:both; margin:20px 0 20 0; height:100px">
            <h3>Device List
                <button id="btnListAllDevices" onclick="SHRIMPWARE.SISClient.listAllDevices()">Refresh Device List</button>
            </h3>
            <div id="deviceListOutput">
                Log into Spark to see devices.
            </div>
        </div>

        <div style="clear:both;">

            <h3>Attributes</h3>
            <div id="btnGetAttributes"></div>
            <!--
                <button id="btnGetAttributes" onclick="SHRIMPWARE.SISClient.getAttributes()">Refresh Attributes</button>
            Refresh button does not work! See jbsSpark.js to debug this.
            -->
            <div id="featureButtons">
            </div>
            <div id="functionButtons">
                Log into Spark to see actions.
            </div>
            <div id="variableButtons">
            </div>
        </div>

    </div>
    <div name="middlecolumn" style="float:left; width:30%; min-width300px">

        <div style="float:left;">
            <h3>Command Output
            </h3>
            <div id="commandOutput">
            </div>
        </div>

    </div>
    <div name="rightcolumn" style="float:left; width:30%; min-width300px">

        <div style="float:left;">
            <h3>Debug Log
                <button onclick="SHRIMPWARE.SISClient.logClear()">Clear log</button>
            </h3>
            <div id="debugLog">
            </div>
        </div>

    </div>

    <div name="errorMsgDiv" style="clear:both; padding:30px 0 0 0">
        <h3>Error Messges...</h3>
        <p>...if any, will display here, most recent on top
            <div id="errorMessages">
            </div>
    </div>

    <div id="bottomDiv">
        <p>If you want all the code used on these pages, <a href="https://github.com/SISProject"> visit our
            github project.</a></p>
        <p>Use of this client is subject to our <a href="https://github.com/SISProject/SISDocs/blob/master/Terms_of_Use_License_and_Disclaimer.pdf">
            Terms of Use, License, and Disclaimer.</a>
        <p>(c) 2015 Bob Glicksman and Jim Schrempp. All Rights Reserved</p>
    </div>
    </div>


    <!-- the following div is used to make sure the user wants to clear their SIS sensor config -->
    <div id="modalClearSISConfigDiv" style="visibility:hidden; position:absolute; left:0px; top:0px; width:100%; height:100; text-align:center; z-index:1000">
        <div style="width:400px; margin:100px auto; border:1px solid #000; padding:15px; text-align:center; background-color:#888;">
            <h3>Are you sure?</h3>
            You are about to clear your SIS sensor configuration. This will reset all of the configured sensors back to nil. After this your SIS will not recognize any sensor trips. You will need to configure each sensor again. This is not necessarily bad, but you
            should be sure.
            <p>
                <input type="button" value="Clear SIS Configuration" onclick="SHRIMPWARE.SISClient.clearSensorConfig()"> &nbsp;&nbsp;&nbsp;
                <input type="button" value="Cancel" onclick="SHRIMPWARE.SISClient.hideModalClearSISConfig()">
        </div>
    </div>

    <!-- These Divs are never shown in the debug page. They are just here to keep the Javascript working -->
    <div id="btnGetSensorLog" style="visibility:hidden;"></div>
    <div id="sensorTableDiv" style="visibility:hidden;"></div>
    <div id="btnAnalyzeSensorLog" style="visibility:hidden;"></div>
    <div id="commandOutput" style="visibility:hidden;"></div>
    <div id="currentCoreConfig" style="visibility:hidden;"></div>


    <script>
     SHRIMPWARE.SISClient.initWebPage(); // called in case some web page elements need to be initialized
    </script>


</body>

</html>
