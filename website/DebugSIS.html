<!DOCTYPE html>
<html>

<head>
<title>ShrimpWare SIS Test Page</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="A private page for us to play with the Spark Cores." name="Description">
<meta content="Spark core Particle.io internet of things IoT remote wireless sensors " name="Keywords">
<script language="javascript" src="/rpi/utils.js" type="text/javascript"></script>
<link href="/rpi/rpi.css" rel="stylesheet" type="text/css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1346932-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script src="//cdn.jsdelivr.net/sparkjs/0.2.0/spark.min.js" type="text/javascript"></script>
<script src="jbsSpark.js" type="text/javascript"></script>
</head>

<body style="width: 1600px">
<div id="top">
</div>
<div id="left">
</div>
<div style="width: 1500px; padding: 50px 20px 20px 50px; float: left;">
    <noscript>
        This page requires that Javascript be enabled.
    </noscript>

    <div id="SISPageTitle" style="clear: both; width: 750px; height: auto; padding: 0px 0px 0px 50px;">
        <h1 id="configTitle">&nbsp;</h1>
        <div id="jbs_jsversion">
        </div>
    </div>



	<div name="leftcolumn" style="float:left; width:400px">

		<div id="spark-login" class="auto-style2" />
 			<script>
 				SHRIMPWARE.SISClient.loginToSpark(); // Displays the login button
			</script>
		</div>


		<div style="clear:both; margin:20px 0 20 0; height:100px">
			<h3>Device List
                <button id="btnListAllDevices" onclick="SHRIMPWARE.SISClient.listAllDevices()">Refresh Device List</button>
            </h3>
            <div id="deviceListOutput">
				Log into Spark to see devices.
			</div>
		</div>

		<div style="clear:both; width:400px;">

            <h3>Attributes</h3>
            <div id="btnGetAttributes"></div>
            <!--
                <button id="btnGetAttributes" onclick="SHRIMPWARE.SISClient.getAttributes()">Refresh Attributes</button>
            Refresh button does not work! See jbsSpark.js to debug this.
            -->
            <div id="functionButtons">
				Log into Spark to see actions.
			</div>
			<div id="variableButtons">
			</div>
		</div>

    </div>

    <div name="middlecolumn" style="float:left; width=500px; margin-left:50px">

        <div style="clear:both; width:500px">
            <h3>Current Core Configuration</h3>
            <div id="currentCoreConfig">
                Log into Spark to see your Spark Core config
            </div>

        </div>

        <div style="clear:both; width:500px">
            <h3>Sensor Config</h3>
            <button id="btnGetSensorConfig" onclick="SHRIMPWARE.SISClient.getSensorConfig()">Get Sensor Config</button>
            <button id="btnClearSISConfig" onclick="SHRIMPWARE.SISClient.showModalClearSISConfig()">Clear Current SIS Config</button><br>
        <div id="sensorConfigOutput">
                Log into Spark to see your sensor config
        </div>

        </div>

        <div style="clear:both; width:500px">
            <h3>Commands</h3>
            <button id="btnGetSensorLog" onclick="SHRIMPWARE.SISClient.getSensorLog()">Get Sensor Log</button>
            <button id="btnAnalyzeSensorLog" onclick="SHRIMPWARE.SISClient.analyzeSensorLog()">Analyze Sensor Log</button>
            <div id="commandOutput" style="margin-top:20px" >
                Log into Spark to enable these buttons.
            </div>
        </div>

    </div>

    <div name="rightcolumn" style="float:left; width=500px">

        <div style="float:right; width:500px">
            <h3>Debug Log <button onclick="SHRIMPWARE.SISClient.logClear()">Clear log</button></h3>
            <div id="debugLog" >
            </div>
        </div>

    </div>

    <div name="errorMsgDiv" style="clear:both; padding:30px 0 0 0">
        <h3>Error Messges...</h3><p>...if any, will display here, most recent on top
            <div id="errorMessages" >
            </div>
    </div>

    <div name="downloadArea"style="clear:both; padding:30px 0 0 0">
        <p>If you want all the code used on these pages, <a href="SISMon.zip">
            click to download a zip</a> of it all. </p>
    </div>

	<div name="bottomdiv"style="clear:both; padding:30px 0 0 0">
		<p>(c) 2014 Shrimpware LLC All Rights Reserved</p>
	</div>

	<script>
    SHRIMPWARE.SISClient.initWebPage(); // called in case some web page elements need to be initialized
	</script>

</div>


<!-- the following div is used to make sure the user wants to clear their SIS sensor config -->
<div id="modalClearSISConfigDiv" style="visibility:hidden; position:absolute; left:0px; top:0px; width:100%; height:100; text-align:center; z-index:1000">
    <div style="width:400px; margin:100px auto; border:1px solid #000; padding:15px; text-align:center; background-color:#888;">
        <h3>Are you sure?</h3>
        You are about to clear your SIS sensor configuration. This will reset all of
        the configured sensors back to nil. After this your SIS will not recognize any
        sensor trips. You will need to configure each sensor again. This is not necessarily
        bad, but you should be sure.
        <p>
        <input type="button" value="Clear SIS Configuration" onclick="SHRIMPWARE.SISClient.clearSensorConfig()">
        &nbsp;&nbsp;&nbsp;
        <input type="button" value="Cancel" onclick="SHRIMPWARE.SISClient.hideModalClearSISConfig()">
    </div>
</div>


</body>

</html>
