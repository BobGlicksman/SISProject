<!DOCTYPE html>
<html>

<head>
<title>ShrimpWare SIS Small Apartment Setup</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="A private page for us to play with the Spark Cores." name="Description">
<meta content="raspberry pi arduino alamode wyolum maker servo motor analog input digital input PWM bread box breadbox" name="Keywords">
<script language="javascript" src="/rpi/utils.js" type="text/javascript"></script>
<link href="/rpi/rpi.css" rel="stylesheet" type="text/css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1346932-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<script src="//cdn.jsdelivr.net/sparkjs/0.2.0/spark.min.js" type="text/javascript"></script>
<script src="jbsSpark.js" type="text/javascript"></script>
<script> SHRIMPWARE.SISTest.setMode("ConfigSmallApartment") </script>
</head>

<body style="width: 3000px">
<div id="top">
</div>
<div id="left">
</div>
<div style="width: 2400px; padding: 50px 20px 20px 50px; float: left;">
    <noscript>
        This page requires that Javascript be enabled.
    </noscript>

	<div style="clear: both; width: 750px; height: auto">
		<h1>SIS Small Apartment Setup</h1>
        <div id="jbs_jsversion">
        </div>
	</div>


	<div name="leftcolumn" style="float:left; width:400px">

		<div id="spark-login" class="auto-style2" />
 			<script>
 				SHRIMPWARE.SISTest.loginToSpark(); // Displays the login button
			</script>
		</div>


		<div style="clear:both; margin:20px 0 20 0; height:100px">
			<h3>Device List
                <button id="btnListAllDevices" onclick="SHRIMPWARE.SISTest.listAllDevices()">Refresh Device List</button>
            </h3>
            <div id="deviceListOutput">
				Log into Spark to see devices.
			</div>
		</div>

        <div id='sensorSelectDiv' style="clear:both; width:400px; ">
            <h3>Sensors for Saratoga Townhouse</h3>
            Select one to set up:
            <div id="sensorList">
                <!-- sensor list to configure will appear here -->
            </div>
        </div>

    </div>

    <div name="middlecolumn" style="float:left; width=500px; margin-left:50px">
        <div style="clear:both; width:500px">
            &nbsp;
        </div>
        <div id="currentSensorDiv" style="clear:both; width:500px">
            <h3>Current Sensor Info</h3>
            <div id="currentSensorInfo">
                Log in to Spark.
            </div>

        </div>

        <div id="newSensorSetupDiv" style="clear:both; width:500px">
            <h3>Setup New Sensor</h3>
            Optional: Clear Current SIS Config
                <button id="btnClearSISConfig" onclick="SHRIMPWARE.SISTest.clearSensorConfig()">Clear SIS Config</button><br><br>
            Optional: Review the sensor config
                <button id="btnGetSensorConfig" onclick="SHRIMPWARE.SISTest.getSensorConfig()">Show Sensor Config</button><br><br>
            Step 1: Click to begin.
                <button id="btnSetNewSensorBegin" onclick="SHRIMPWARE.SISTest.setNewSensorBegin()">Begin Setup</button><br><br>
            Step 2: Trip the new sensor, then click:
                <button id="btnSetNewSensorWasTripped" onclick="SHRIMPWARE.SISTest.setNewSensorWasTripped()" disabled='true'>New Sensor Was Tripped</button><br><br>
            Step 3: Click to save the new sensor set up.
                <button id="btnSaveSensorConfig" onclick="SHRIMPWARE.SISTest.saveSensorConfig()" >Save Sensor Setup</button><br><br>

            </div>

        </div>

        <div id="commandsDiv" style="clear:both; width:500px">
            <h3>Commands</h3>
            <button id="btnGetSensorLog" onclick="SHRIMPWARE.SISTest.getSensorLog()">Get Sensor Log</button>
            <button id="btnAnalyzeSensorLog" onclick="SHRIMPWARE.SISTest.analyzeSensorLog()">Analyze Sensor Log</button>
            <div id="commandOutput" style="margin-top:20px" >
                Log into Spark to enable these buttons.
            </div>
        </div>

    </div>

    <div id="column3" style="float:left; width=500px">
        <div style="width:500px">&nbsp;</div>

        <div  style="float:right; width:500px">
            <h3>Sensor Activity Realtime</h3>

            <p id="eventHeartbeat" data-state="OFF" style="width:100px">Heart Beat</p>
            <div id="sensorActivityDiv">
                <!-- The live sensor alert panel will show up here -->
            </div>
        </div>

    </div>

    <div name="rightcolumn" style="float:left; width=500px">
        <button id="debugShowBtn" onClick="SHRIMPWARE.SISTest.debugShow()">Show Debug Log</button>

        <div id="debugLogDiv" style="float:right; width:500px">
            <h3>Debug Log <button onclick="SHRIMPWARE.SISTest.logClear()">Clear log</button></h3>
            <div id="debugLog" >
            </div>
        </div>

    </div>

    <div name="errorMsgDiv" style="clear:both; padding:30px 0 0 0">
        <h3>Error Messges...</h3><p>...if any, will display here, most recent on top
        <div id="errorMessages" >
        </div>
    </div>

    <div name="downloadArea"style="clear:both; padding:30px 0 0 0">
        <p>If you want all the code used on these pages, <a href="SISMon.zip">
            click to download a zip</a> of it all. </p>
    </div>

	<div name="bottomdiv"style="clear:both; padding:30px 0 0 0">
		<p>(c) 2014 Shrimpware LLC All Rights Reserved</p>
	</div>

	<script>
    SHRIMPWARE.SISTest.initWebPage(); // called in case some web page elements need to be initialized

	</script>

</div>

</body>

</html>
